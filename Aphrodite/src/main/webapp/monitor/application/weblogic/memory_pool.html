<div class="tab-pane animated fadeIn active">
	<div class="panel-body">
		<div class="row" data-ng-controller="WeblogicMemoryPoolController">
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title"><span class="glyphicon glyphicon-stats"></span> CodeCache</h3>
					</div>
					<div class="input-prepend input-group">
						<span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></span>
						<input type="text" style="width: 300px;" id="dateRangeCodeCache" class="form-control" readonly="readonly"/>
					</div>
					<div class="panel-body">
						<div id="weblogicCodeCacheChart" style="height:400px;"></div>
					</div>
				</div>
			</div>
			
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title"><span class="glyphicon glyphicon-stats"></span> PermGen</h3>
					</div>
					<div class="input-prepend input-group">
						<span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></span>
						<input type="text" style="width: 300px;" id="dateRangePermGen" class="form-control" readonly="readonly"/>
					</div>
					<div class="panel-body">
						<div id="weblogicPermGenChart" style="height:400px;"></div>
					</div>
				</div>
			</div>
			
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title"><span class="glyphicon glyphicon-stats"></span> TenuredGen</h3>
					</div>
					<div class="input-prepend input-group">
						<span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></span>
						<input type="text" style="width: 300px;" id="dateRangeTenuredGen" class="form-control" readonly="readonly"/>
					</div>
					<div class="panel-body">
						<div id="weblogicTenuredGenChart" style="height:400px;"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
function WeblogicMemoryPoolController($scope, $http, $stateParams) {
	
	var codeCacheParams = {
			id: $stateParams.hostId,
			graphDiv: 'weblogicCodeCacheChart',
			title: 'Memory Pool',
			key: ['jmx["java.lang:type=MemoryPool,name=Code Cache",Usage.committed]', 
			      'jmx["java.lang:type=MemoryPool,name=Code Cache",Usage.max]', 
			      'jmx["java.lang:type=MemoryPool,name=Code Cache",Usage.used]'],
			likeSearch: false,
			graphType: 'line',
			dateRangeId: 'dateRangeCodeCache'
	};
	
	var permGenParams = {
			id: $stateParams.hostId,
			graphDiv: 'weblogicPermGenChart',
			title: 'Memory Pool',
			key: ['jmx["java.lang:type=MemoryPool,name=Perm Gen",Usage.committed]', 
			      'jmx["java.lang:type=MemoryPool,name=Perm Gen",Usage.max]', 
			      'jmx["java.lang:type=MemoryPool,name=Perm Gen",Usage.used]'],
			likeSearch: false,
			graphType: 'line',
			dateRangeId: 'dateRangePermGen'
	};
	
	var tenuredGenParams = {
			id: $stateParams.hostId,
			graphDiv: 'weblogicTenuredGenChart',
			title: 'Memory Pool',
			key: ['jmx["java.lang:type=MemoryPool,name=Tenured Gen",Usage.committed]', 
			      'jmx["java.lang:type=MemoryPool,name=Tenured Gen",Usage.max]', 
			      'jmx["java.lang:type=MemoryPool,name=Tenured Gen",Usage.used]'],
			likeSearch: false,
			graphType: 'line',
			dateRangeId: 'dateRangeTenuredGen'
	};
	
	renderGraph(codeCacheParams);
	renderGraph(permGenParams);
	renderGraph(tenuredGenParams);
	
}
</script>