<div class="tab-pane animated fadeIn active">
	<div class="panel-body">
		<div class="tab-pane fade in active" id="tomcat_session">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title"><span class="glyphicon glyphicon-stats"></span> 会话</h3>
				</div>
				<div class="input-prepend input-group">
					<span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></span>
					<input type="text" style="width: 300px;" id="dateRangeSession" class="form-control" readonly="readonly"/>
				</div>
				<div class="panel-body" data-ng-controller="TomcatSessionController">
					<div id="tomcatSessionChart" style="height:400px;"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
function TomcatSessionController($scope, $http, $stateParams) {
	
	var sessionParams = {
			id: $stateParams.hostId,
			graphDiv: 'tomcatSessionChart',
			title: 'Sessions',
			key: ['jmx["Catalina:type=Manager,context=/,host=localhost",maxActive]', 
			      'jmx["Catalina:type=Manager,context=/,host=localhost",activeSessions]', 
			      'jmx["Catalina:type=Manager,context=/,host=localhost",sessionCounter]', 
			      'jmx["Catalina:type=Manager,context=/,host=localhost",rejectedSessions]', 
			      'jmx["Catalina:type=Manager,context=/,host=localhost",maxActiveSessions]'],
			likeSearch: false,
			graphType: 'line',
			dateRangeId: 'dateRangeSession'
	};
	
	renderGraph(sessionParams);
	
}
</script>